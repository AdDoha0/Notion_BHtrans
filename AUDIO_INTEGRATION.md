# üéôÔ∏è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∞—É–¥–∏–æ-–æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ BH Trans Bot

## üìã –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–ë–æ—Ç —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–µ–π –∑–≤–æ–Ω–∫–æ–≤ —Å –≤–æ–¥–∏—Ç–µ–ª—è–º–∏:

1. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è –∞—É–¥–∏–æ** ‚Üí Whisper API (OpenAI)
2. **–ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞** ‚Üí GPT-4 —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º HR-–ø—Ä–æ–º–ø—Ç–æ–º
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è** ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Notion

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É `/drivers`
2. –í—ã–±–∏—Ä–∞–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞
3. **–ù–û–í–û–ï**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞—É–¥–∏–æ–∑–∞–ø–∏—Å—å (–≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∞—É–¥–∏–æ—Ñ–∞–π–ª –∏–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç)
4. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   - –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä—É–µ—Ç –∞—É–¥–∏–æ –≤ —Ç–µ–∫—Å—Ç
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä —á–µ—Ä–µ–∑ GPT
   - –°–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HR-–æ—Ç—á–µ—Ç
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ Notion –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:
- üé§ **–ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** Telegram (`.ogg`)
- üéµ **–ê—É–¥–∏–æ—Ñ–∞–π–ª—ã** (`.mp3`, `.wav`, `.m4a`)
- üìÑ **–î–æ–∫—É–º–µ–Ω—Ç—ã** —Å –∞—É–¥–∏–æ-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

#### `services/openai.py`
```python
# –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- process_audio_to_comment() # –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –∞—É–¥–∏–æ ‚Üí —Ç–µ–∫—Å—Ç ‚Üí –∞–Ω–∞–ª–∏–∑
- transcription() # Whisper API –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- create_gptAnswer() # GPT –∞–Ω–∞–ª–∏–∑ —Å HR-–ø—Ä–æ–º–ø—Ç–æ–º
```

#### `handlers/notion_handlers.py`
```python
# –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è:
- handle_comment_input() # –¢–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞—É–¥–∏–æ + —Ç–µ–∫—Å—Ç
```

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏:
1. **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ** ‚Üí –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–∞–ø–∫–∞ `temp/`
2. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è** ‚Üí Whisper API —Å —è–∑—ã–∫–æ–º `ru`
3. **–ê–Ω–∞–ª–∏–∑** ‚Üí GPT-4 —Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ–º–ø—Ç–æ–º
4. **–û—á–∏—Å—Ç–∫–∞** ‚Üí —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Üí –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ Notion

## üìä –§–æ—Ä–º–∞—Ç –∞–Ω–∞–ª–∏–∑–∞

GPT —Å–æ–∑–¥–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π HR-–æ—Ç—á–µ—Ç:

```markdown
### üìä –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
–í–æ–¥–∏—Ç–µ–ª—å –∑–≤—É—á–∞–ª –∫–∞–∫: –º–æ—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π
–ö—Ä–∞—Ç–∫–æ–µ —É—Ç–æ—á–Ω–µ–Ω–∏–µ: –≥–æ—Ç–æ–≤ –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É

### üéØ –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è –∏ –∏—Ö –∫–æ—Ä–Ω–µ–≤—ã–µ –ø—Ä–∏—á–∏–Ω—ã
–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å:
* "–Ω—É–∂–Ω–æ –ø–æ–¥—É–º–∞—Ç—å", "—á–µ—Ä–µ–∑ –ø–∞—Ä—É –Ω–µ–¥–µ–ª—å"

–ö–æ—Ä–µ–Ω—å:
* —Å—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä—è—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥

### ‚úÖ –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã HR
* —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–∏
* —á–µ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

### üö® –û—à–∏–±–∫–∏ HR
* –Ω–µ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
* –Ω–µ –ø–æ–ª—É—á–∏–ª –º–∏–Ω–∏-—Ñ–∏–∫—Å–∞—Ü–∏–∏ "3 –¥–∞"

### üìä –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–≤–æ–Ω–∫–∞
* % –≤—Ä–µ–º–µ–Ω–∏ –≥–æ–≤–æ—Ä–∏–ª HR vs –≤–æ–¥–∏—Ç–µ–ª—å: 40% vs 60%
* –ú–∏–Ω–∏-—Ñ–∏–∫—Å–∞—Ü–∏–∏ ¬´3 –¥–∞¬ª: –Ω–µ—Ç
* –°–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏: —Ä–∞–∑–º—ã—Ç–∞—è

### üèÜ –û—Ü–µ–Ω–∫–∞ –∑–≤–æ–Ω–∫–∞
7/10 ‚Äì —Ö–æ—Ä–æ—à–∏–π –∫–æ–Ω—Ç–∞–∫—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –Ω–µ—Ç —á–µ—Ç–∫–æ–≥–æ next step

### üìù –ú–∏–Ω–∏-—Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –∑–≤–æ–Ω–∫–∞
"–ò–≤–∞–Ω, –≤ –ø—Ä–æ—à–ª—ã–π —Ä–∞–∑ –≤—ã —Å–∫–∞–∑–∞–ª–∏ —á—Ç–æ –≥–æ—Ç–æ–≤—ã —Ä–∞–±–æ—Ç–∞—Ç—å. 
–ß—Ç–æ–±—ã —É—Å–∫–æ—Ä–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–ø–ø–ª–∏–∫–µ–π—à–Ω –Ω–∞ —Å–∞–π—Ç–µ. 
–¢–æ–≥–¥–∞ —á–µ—Ä–µ–∑ 2 –¥–Ω—è –≤—ã–π–¥–µ—Ç–µ –Ω–∞ –ª–∏–Ω–∏—é. 
–ö–æ–≥–¥–∞ –≤–∞–º —É–¥–æ–±–Ω–æ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å: —Å–µ–π—á–∞—Å –∏–ª–∏ –≤–µ—á–µ—Ä–æ–º?"
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
cd /home/user/my_projects/notion_BHtrans_project
python test_audio.py
```

## ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
OPENAI_KEY=your_openai_api_key
BOT_TOKEN=your_telegram_bot_token
NOTION_KEY=your_notion_integration_key
NOTION_DATABASE_ID=your_database_id
```

### Python –ø–∞–∫–µ—Ç—ã:
- `openai` - –¥–ª—è Whisper –∏ GPT API
- `aiogram` - Telegram Bot API
- `aiofiles` - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
- `notion-client` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Notion

## üö® –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:
- ‚ùå –û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ ‚Üí –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
- ‚ùå –û—à–∏–±–∫–∞ GPT –∞–Ω–∞–ª–∏–∑–∞ ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- ‚ùå –û—à–∏–±–∫–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞ ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚ùå –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ ‚Üí –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Telegram API

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ HR** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∑–≤–æ–Ω–∫–æ–≤
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - —á–µ—Ç–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
3. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞** - –≤—Å–µ –∑–∞–ø–∏—Å–∏ –≤ Notion
4. **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑** - –æ–ø—ã—Ç–Ω—ã–π HR-–ø—Ä–æ–º–ø—Ç
5. **–£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∞—É–¥–∏–æ –≤ –±–æ—Ç

## üîÑ Workflow

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí –ê—É–¥–∏–æ–∑–∞–ø–∏—Å—å ‚Üí Whisper ‚Üí GPT-4 ‚Üí Notion
     ‚Üì              ‚Üì           ‚Üì        ‚Üì       ‚Üì
   /drivers    –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è  –ê–Ω–∞–ª–∏–∑  –û—Ç—á–µ—Ç  –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
```

---

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ** 